import{_,o as r,c as i,a as s,w as T,v as g,b,F as C,r as k,t as x,d as $,e as y,f as h,u as f,i as D,g as m,h as p}from"./index-5f0350c3.js";const N={name:"TaskCreator",emits:["created"],data(){return{newTodo:""}},methods:{onCreate(){this.newTodo!==""&&(this.$emit("created",{id:new Date().getTime(),todo:this.newTodo,completed:!1}),this.newTodo="")}}},S={class:"bg-success-subtle shadow p-4"},A=s("h2",{class:"mb-4"},"Add new task",-1),I={class:"d-flex flex-row mb-3 justify-content-start align-items-center"},F={class:"p-2"};function L(t,e,l,o,d,n){return r(),i("div",S,[s("form",{onSubmit:e[2]||(e[2]=b(a=>n.onCreate(),["prevent"]))},[A,s("div",I,[T(s("input",{type:"text",autocomplete:"off",id:"todo",class:"form-control form-control-lg p-2",placeholder:"...new task","aria-label":"new task","onUpdate:modelValue":e[0]||(e[0]=a=>d.newTodo=a)},null,512),[[g,d.newTodo]]),s("div",F,[s("button",{type:"button",class:"btn btn-success btn-lg",onClick:e[1]||(e[1]=a=>n.onCreate())}," Add ")])])],32)])}const V=_(N,[["render",L]]),B={name:"TaskList",emits:["changed","deleted"],props:{todos:{type:Array,default:()=>[]}},methods:{onTodoDelete(t){this.$emit("deleted",t)},onTodoChange(t){this.$emit("changed",t)}}},E={class:"input-group-text d-flex flex-row justify-content-center align-items-center bg-warning-subtle shadow p-4 mt-4"},j=["checked","onChange"],M={class:"form-control mb-0 ms-2 me-2 flex-grow-1 text-wrap text-break"},P=["onClick"];function J(t,e,l,o,d,n){return r(),i("div",null,[(r(!0),i(C,null,k(l.todos,a=>(r(),i("div",{key:a.id},[s("div",E,[s("input",{type:"checkbox",class:"form-check-input mt-0 ml-2",checked:a.completed,onChange:c=>n.onTodoChange(a.id)},null,40,j),s("p",M,x(a.todo),1),s("button",{type:"button",class:"btn btn-danger",onClick:c=>n.onTodoDelete(a.id)},"Delete",8,P)])]))),128))])}const O=_(B,[["render",J]]);function v(t,e){return $(()=>{const o=window.localStorage.getItem(t);o&&(e.value=JSON.parse(o))}),y(e,()=>{window.localStorage.setItem(t,JSON.stringify(e.value))}),{clearEntry:o=>{e.value=o,window.localStorage.setItem(t,o)}}}const U={class:"bg-secondary-subtle shadow p-4"},R=s("h2",{class:"mb-4"},"Add some notes",-1),Y={class:"d-flex flex-row mb-3 justify-content-end align-items-center"},q={__name:"NotepadField",setup(t){let e=h("");const{clearEntry:l}=v("note",e);return(o,d)=>(r(),i("div",U,[R,T(s("textarea",{class:"form-control mb-2",rows:"3",placeholder:"...Your notes here","onUpdate:modelValue":d[0]||(d[0]=n=>D(e)?e.value=n:e=n)},null,512),[[g,f(e)]]),s("div",Y,[s("button",{class:"btn btn-outline-warning btn-lg",onClick:d[1]||(d[1]=n=>f(l)(""))},"Clear")])]))}};function z(){let t=h([]);return{todos:t,onTodoCreated:d=>{t.value=[...t.value,d]},onTodoDeleted:d=>{t.value=t.value.filter(n=>n.id!==d)},onTodoChanged:d=>{const n=t.value.findIndex(c=>c.id===d),a=t.value[n];t.value=[...t.value.slice(0,n),{...a,completed:!a.completed},...t.value.slice(n+1)]}}}const G={name:"TasksViewComposedAPI",components:{TaskCreator:V,TaskList:O,NotepadField:q},setup(){const{todos:t,onTodoCreated:e,onTodoDeleted:l,onTodoChanged:o}=z();return v("todos",t),{todos:t,onTodoCreated:e,onTodoDeleted:l,onTodoChanged:o}}},H={class:"tasks"},K={class:"mx-auto mt-4"};function Q(t,e,l,o,d,n){const a=m("TaskCreator"),c=m("TaskList"),w=m("NotepadField");return r(),i("div",H,[s("div",null,[p(a,{onCreated:e[0]||(e[0]=u=>o.onTodoCreated(u))}),p(c,{todos:o.todos,onChanged:e[1]||(e[1]=u=>o.onTodoChanged(u)),onDeleted:e[2]||(e[2]=u=>o.onTodoDeleted(u))},null,8,["todos"]),s("div",K,[p(w)])])])}const X=_(G,[["render",Q]]);export{X as default};
